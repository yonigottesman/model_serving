{% extends "base.html" %}

{% block content %}
<script>
  function predict() {
    console.log("Hello world!"); 
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (xhttp.readyState === 4) {
        console.log(xhttp.responseText)
        var myElement = document.getElementById('response_placeholder').innerHTML = xhttp.responseText;
      }
    }
    xhttp.open("GET", '{{ url_for("predict") }}', true)
    xhttp.send()
    
  }
  </script>

<section class="jumbotron text-center">
    <div class="container">
      <h1>Deal/Product Categorization</h1>
      <p class="lead text-muted"> Haifa Mail - Yahoo Research</p>
      <!-- <p>
        <a href="#" class="btn btn-primary my-2">Main call to action</a>
        <a href="#" class="btn btn-secondary my-2">Secondary action</a>
      </p> -->
    </div>
</section>


<form method="POST" action="/">
    <div class="form-row">
        <div class="form-group col-md-2">
          <input type="text" class="form-control" placeholder="domain" name="domain" value="{{domain_value}}">
        </div>
        <div class="form-group col ">
          <input type="text" class="form-control" placeholder="text" name="text" value={{text_value}}>
        </div>
    </div>
    <!-- <button type="submit" class="btn btn-primary">Classify</button>    -->
</form>
<input class="btn btn-primary" type="submit" onclick="predict();" value="Classify">
</br>
</br>
<div class="card">
  <div class="card-header">
    Classification Response
  </div>
  <div class="card-body">
    <blockquote class="blockquote mb-0">
      <p id='response_placeholder'></p>
    </blockquote>
  </div>
</div>


{% endblock %}